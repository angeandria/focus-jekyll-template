{% assign target_file = include.hook %}

{% assign hooks = site.data.focus.hooks %}
{% assign target_hook = hooks[target_file] %}
{% assign target_class = include.class | default: ""%}


{% if target_hook %}
    
    {% if target_hook["custom"] %}    
        <div class="section--hook custom-hook section--{{target_file}} {{ target_class }} ">            
            {% assign included_file = target_file | markdownify | append: '.html' %}
            {% include included_file %}
        </div>
    {% else %}
        <div class="section--hook default-hook section--{{target_file}} {{ target_class }} ">                
            {% assign included_file = "focus/hooks/" | append: (target_file | markdownify | append: '.html') %}
            {% include included_file %}
        </div>
    {% endif %}
    
{% else %}
    <div class="notice--danger">Error : Hook {{ target_file }} does not exist in hooks.yml
    </div>
{% endif %}